package trapRain;

public class Faster {
	public static int trap(int[] A) {
		if (A.length <= 1) {
			return 0;
		}
		int total = 0;
		int max = A[0];
		int[] leftMost= new int[A.length];
		for (int i = 1; i < A.length; i++) {
			leftMost[i] = max;
			max = Math.max(A[i], max);
		}
		max = A[A.length - 1];
		for (int i = A.length - 2; i > 0; i--) {
			int min = Math.min(max, leftMost[i]);
			if(min > A[i]) {
				total + = min - A[i];
			}
		}
		
		return total;
	}

	public static void main(String[] args) {
		int[] input = { 0, 1, 0, 2, 1, 0, 1, 3, 2, 1, 2, 1 };
		int trapping;
		trapping = trap(input);
		System.out.println(trapping);
	}
}
