package validNumber;

import javax.sound.midi.Track;

public class Automata {
	public enum InputType {
		INVALID, SPACE, SIGN, DIGIT, DOT, EXPONENT, NUM_INPUTS

	}

	public static int[][] transitionTable = { { -1, 0, 3, 1, 2, -1 },
			{ -1, 8, -1, 1, 4, 5 }, { -1, -1, -1, 4, -1, -1 },
			{ -1, -1, -1, 1, 2, -1 }, { -1, 8, -1, 4, -1, 5 },
			{ -1, -1, 6, 7, -1, -1 }, { -1, -1, -1, 7, -1, -1 },
			{ -1, 8, -1, 7, -1, -1 }, { -1, 8, -1, -1, -1, -1 }

	};

	public static boolean isNumber(String s) {
		if (s == null || s.length() == 0) {
			return false;
		}
		int state = 0;
		for (int i = 0; i < s.length(); i++) {
			InputType inputType = InputType.INVALID;
			char c = s.charAt(i);
			if (c == ' ') {
				inputType = InputType.SPACE;
			} else if (c == '+' || c == '-') {
				inputType = InputType.SIGN;
			} else if (Character.isDigit(c)) {
				inputType = InputType.DIGIT;
			} else if (c == '.') {
				inputType = InputType.DOT;
			} else if (c == 'e' || c == 'E') {
				inputType = InputType.EXPONENT;
			}
			state = transitionTable[state][inputType.ordinal()];
		}
	}
}
