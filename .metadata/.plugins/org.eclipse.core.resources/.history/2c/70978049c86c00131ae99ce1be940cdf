package scrambleString;

public class Recursive {
	public static boolean isScramble(String s1, String s2) {
		if (s1 == null && s2 == null) {
			return true;
		}
		if (s1.isEmpty() && s2.isEmpty()) {
			return true;
		}
		if (s1.equals(s2)) {
			return true;
		}
		
		for (int i = 1; i < s1.length(); i++) {
			String s1l = s1.substring(0, i);
			String s1r = s1.substring(i);
			
			String s2l1 = s2.substring(0, i);
			String s2r1 = s2.substring(i);
			
			if (isScrambleString(s1l, s2l1) && isScrambleString(s1r, s2r1)) {
				return true;
			}
		}
	}
	
	public static boolean isScrambleString(String s1, String s2) {
		int[] candidates = new int[256];
		for (int i = 0; i < s1.length(); i++) {
			candidates[s1.charAt(i)]++;
		}
		for (int i = 0; i < s2.length();i++) {
			if (candidates[s2.charAt(i)] <= 0) {
				return false;
			}
			candidates[s2.charAt(i)]--;
		}
		return true;
	}
}
