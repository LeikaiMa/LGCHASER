package wildcardMatching;

public class RecordStar {
	public static boolean isMatch(String s, String p) {
		if (p.replace("*", "").length() > s.length()) {
			return false;
		}

		int ps = 0;
		int pp = 0;
		int pss = -1;
		int pps = -1;

		while (ps < s.length()) {
			if (pp >= p.length()) {
				if (pps > -1) {
					pp = pps;
					ps = pss + 1;
					pss = pss + 1;
					continue;
				} else {
					return false;
				}
			}

			if (p.charAt(pp) == '?' || p.charAt(pp) == s.charAt(ps)) {
				pp++;
				ps++;
			} else if (p.charAt(pp) == '*') {
				while (pp < p.length() - 1 && p.charAt(pp + 1) == '*') {
					pp++;
				}
				pss = ps;
				pps = pp;
				pp++;
			} else if (pps > -1) {
				pp = pps;
				ps = pss + 1;
				pss = pss + 1;
			} else {
				return false;
			}
		}

		while (pp < p.length()) {
			if (p.charAt(pp++) != '*') {
				return false;
			}
		}

		return true;
	}
	
	public static void main(String[] args) {
		System.out.println(isMatch("aa", "*") == true);
	}
}
