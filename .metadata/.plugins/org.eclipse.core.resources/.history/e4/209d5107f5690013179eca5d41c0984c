package distinctSubsequences;

import java.util.ArrayList;
import java.util.TreeSet;

public class DPSolution {
	public int numDistinct(String S, String T) {
		ArrayList<TreeSet<Integer>> tArrayList = new ArrayList<TreeSet<Integer>>();
		for (int i = 0; i < T.length(); i++) {
			tArrayList.add(new TreeSet<Integer>());
		}
		for (int i = 0; i < T.length(); i++) {
			for (int j = 0; j < S.length(); j++) {
				if (T.charAt(i) == S.charAt(j)) {
					tArrayList.get(i).add(j);
				}
			}
		}
		if (tArrayList.size() == 1) {
			return tArrayList.get(0).size();
		}
		int num = numDistinctHelper(tArrayList, 1, tArrayList.get(0));
		return num;
	}

	private int numDistinctHelper(ArrayList<TreeSet<Integer>> tArrayList, int start, TreeSet<Integer> subT) {
		if (start == tArrayList.size() - 1 ) {
			return subT.size();
		} else if (subT.size() == 0) {
			return 0;
		} else {
			int result = 0;
			for (int i: subT) {
				TreeSet<Integer> nextT = subT.tailSet(i+1);
				result += numDistinctHelper(tArrayList, start+1, subT)
			}
		}
		
	}
}
