package subSetsII;

import java.util.ArrayList;
import java.util.Arrays;

public class RemoveDup {
	public ArrayList<ArrayList<Integer>> subsetsWithDup(int[] num) {
		ArrayList<ArrayList<Integer>> results = new ArrayList<ArrayList<Integer>>();
		ArrayList<Integer> result = new ArrayList<Integer>();

		results.add(new ArrayList<Integer>(result));

		Arrays.sort(num);

		subsetsWithDupHelper(results, result, num, 0);

		return results;
	}

	public void subsetsWithDupHelper(ArrayList<ArrayList<Integer>> results,
			ArrayList<Integer> result, int[] num, int index) {
		for (int i = index; i < num.length; i++) {
			result.add(num[i]);
			results.add(new ArrayList<Integer>(result));

			subsetsWithDupHelper(results, result, num, i + 1);

			result.remove(result.size() - 1);

			while (i < num.length - 1 && num[i] == num[i + 1]) {
				i++;
			}
		}
	}
}
