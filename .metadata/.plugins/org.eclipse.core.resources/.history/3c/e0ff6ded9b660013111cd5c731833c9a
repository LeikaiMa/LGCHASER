package wildcardMatching;

public class WildcardMatching {
	public static boolean isMatch(String s, String p) {
		int is = 0;
		int ip = 0;
		if (s.isEmpty() || p.isEmpty()) {
			
		}
		if (s.length() != p.length() && !p.contains("*")) {
			return false;
		}
		char cp = p.charAt(ip);
		char cs = s.charAt(is);

		while (is < s.length() || ip < p.length()) {

			cp = p.charAt(ip);
			cs = s.charAt(is);
			if (cp == '?') {
				is++;
				ip++;
				continue;
			} else if (cp == '*') {
				if (ip + 1 >= p.length()) {
					return true;
				} else if (p.charAt(ip + 1) == '*') {
					ip++;
					continue;
				} else if (p.charAt(ip + 1) == '?') {
					ip++;
					continue;
				} else {
					is = s.indexOf(p.charAt(ip + 1), is);
					if (is == -1) {
						return false;
					} else {
						ip++;
					}
				}

			} else {
				if (cp != cs) {
					return false;
				}
				is++;
				ip++;
			}

		}

		if (is < s.length()) {

			if (cp != '*') {
				return false;
			} else {
				return true;
			}

		}

		while (ip < p.length()) {
			if (p.charAt(ip) != '*') {
				return false;
			}
		}
		return true;
	}

	public static void main(String[] args) {
		System.out.println(isMatch("aa", "a"));
		System.out.println(isMatch("aa", "aa"));
		System.out.println(isMatch("aaa", "aa"));
		System.out.println(isMatch("aa", "*"));
		System.out.println(isMatch("aa", "a*"));
		System.out.println(isMatch("ab", "?*"));
		System.out.println(isMatch("aab", "c*a*b"));
	}
}
